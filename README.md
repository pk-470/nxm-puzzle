# nxm-puzzle

You are given an n x m grid and a set of rules, e.g. that you can move from cell (i, j) to cell (i+3, j) (3 steps down), or to cell (i+2, j-2) (2 steps diagonally), etc. Start from some cell and write down the number 1 on it. Now follow a path that adheres to the rules, writing down on each new cell the next natural number (so e.g. if you start from (0, 0) and the rules allow you to go up/down/left/right 2 steps and diagonally 1 step, then your path might look like: 1 - (0, 0), 2 - (0, 2), 3 - (1, 3), 4 - (1, 1), ...). Note that you are not allowed to revisit cells you have already visited. Given some length l, a starting cell (i, j) and a number s, can you find s maximal (i.e. that cannot be further extended whilst adhering to the rules) paths of length l starting from (i, j)? This is what this Python script does, using recursive depth-first search.

The idea was inspired by this blog post: https://chycho.blogspot.com/2014/01/an-exercise-for-mind-10-by-10-math.html.

In the post we have n = m = 10, the rules are that you can go up/down/left/right 3 steps and diagonally 2 steps, we can start from any cell, and we have l = 100, s = 1. Unfortunately my algorithm seems to produce no solutions when tackling the original 10 x 10 problem. It's hard to calculate exactly how many possible paths there are with the given rules, but after playing around with the puzzle for a bit, one can see that in a typical try the empty squares you are allowed to visit are between 1 and 5 (mostly between 2 and 4) after the first 30 numbers or so have been plugged in, and the choices get down to between 0 and 2 in the last 30 steps of the game or so. Moreover, after a few tests one can observe that most maximal path lengths lie in the range 70-90. Based on these observations, a rather conservative guess would place the number of all possible paths starting from a fixed cell in the order of 3^70. The fastest supercomputer in the world right now can perform around 3^37 (or about 450 quadrillion) operations per second. Even if a path search consisted of one operation, it would still take 3^33 seconds to go through all of the paths; that is around 1.8 million years. So unless we're lucky and find a path of length 100 very early on, brute forcing this problem is not likely to produce solutions.

Smarter techniques than simple recursive depth-first search could be employed, e.g. splitting the original grid into smaller grids and trying to construct a solution by appropriately filling those (in fact I was able to produce such solutions by first filling the 5x5 square and then rotating the solution in order to fill each quadrant of the 10x10 in a way that adheres to the rules). Other strategies would be e.g. to try moving from the outside inwards, or from the inside outwards.

Note: In order to run the script you also need to download the OpenSans-Regular.ttf font in the same directory as the script file (the font is used when printing out the solutions found).
